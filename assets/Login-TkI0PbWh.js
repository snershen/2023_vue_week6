import{b as m}from"./api-k_3w9GrI.js";import{_ as p,c as _,a as s,g as d,v as r,n as u,b as g,w as h,r as f,o as b,d as w}from"./index-p2MvTB9z.js";const v={data(){return{loginData:{username:"",password:""}}},methods:{async login(){var l;const i=this.loginData.username.trim(),o=this.loginData.password;if(i&&o){const e=await m(this.loginData);if((l=e==null?void 0:e.data)!=null&&l.success){const{token:t,expired:a}=e.data;document.cookie=`escaperoom=${t}; expires=${new Date(a)}`,this.$router.push("/admin")}else alert("登入失敗")}}}},x={class:"login-bg vh-100 text-white"},D={class:"container d-flex justify-content-center align-items-start flex-column h-100"},k={class:"login-content w-100 rounded overflow-hidden"},y={class:"row"},V=s("div",{class:"col-lg-7 d-none d-lg-block"},[s("div",{class:"banner"})],-1),C={class:"col-lg-5"},L={class:"px-5 py-5"},B=s("h1",{class:"mb-4 fs-3 fw-bold text-center text-lg-start"},"登入後台",-1),N={action:""},R={class:"mb-3"},T=s("label",{for:"admin-email",class:"form-label"},"帳號",-1),U={class:"mb-3"},j=s("label",{for:"admin-password",class:"form-label"},"密碼",-1);function z(i,o,l,e,t,a){const c=f("RouterLink");return b(),_("div",x,[s("div",D,[s("div",k,[s("div",y,[V,s("div",C,[s("div",L,[B,s("form",N,[s("div",R,[T,d(s("input",{type:"email",class:"form-control",id:"admin-email",placeholder:"請輸入信箱","onUpdate:modelValue":o[0]||(o[0]=n=>t.loginData.username=n)},null,512),[[r,t.loginData.username]])]),s("div",U,[j,d(s("input",{type:"password",class:"form-control",id:"admin-password",placeholder:"請輸入密碼","onUpdate:modelValue":o[1]||(o[1]=n=>t.loginData.password=n)},null,512),[[r,t.loginData.password]])]),s("button",{type:"submit",class:u(["btn btn-light mt-lg-5 mt-3 py-2 w-100 fw-bold",{disabled:!t.loginData.username||!t.loginData.password}]),onClick:o[2]||(o[2]=(...n)=>a.login&&a.login(...n))}," 登入 ",2)])])])])]),g(c,{to:"/#",class:"btn btn-outline-light mt-5"},{default:h(()=>[w("回到前台")]),_:1})])])}const q=p(v,[["render",z]]);export{q as default};
